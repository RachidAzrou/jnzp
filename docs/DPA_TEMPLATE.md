# Data Processing Agreement (DPA)
## Template for Third-Party Processors

**Effective Date**: [Date]  
**Agreement Version**: 1.0

---

## Parties

**Data Controller** ("Controller"):  
JanazApp  
[Address]  
[City, Country]  
Email: legal@janazapp.nl

**Data Processor** ("Processor"):  
[Processor Name]  
[Processor Address]  
[City, Country]  
Email: [Processor Email]

---

## Background

This Data Processing Agreement ("DPA") forms part of the Master Services Agreement ("MSA") between the Controller and the Processor. This DPA governs the processing of personal data by the Processor on behalf of the Controller in accordance with the General Data Protection Regulation (GDPR) and other applicable data protection laws.

---

## 1. Definitions

**1.1** Terms used in this DPA shall have the meanings set forth in the GDPR unless otherwise defined herein:

- **Personal Data**: Any information relating to an identified or identifiable natural person as defined in GDPR Article 4(1)
- **Processing**: Any operation performed on Personal Data as defined in GDPR Article 4(2)
- **Data Subject**: An identified or identifiable natural person as defined in GDPR Article 4(1)
- **Supervisory Authority**: An independent public authority established by an EU Member State pursuant to GDPR Article 51
- **Sub-processor**: Any third party engaged by the Processor to process Personal Data on behalf of the Controller

---

## 2. Scope and Purpose of Processing

**2.1 Subject Matter**: The Processor will process Personal Data on behalf of the Controller to provide the services described in Annex A (Service Description).

**2.2 Nature and Purpose of Processing**: [Describe the nature and purpose, e.g., "Backend infrastructure and database services for a funeral management platform"]

**2.3 Duration**: This DPA shall remain in effect for the duration of the MSA and until all Personal Data has been deleted or returned to the Controller.

**2.4 Types of Personal Data**: The categories of Personal Data processed are listed in Annex B (Data Categories).

**2.5 Categories of Data Subjects**: The categories of Data Subjects are listed in Annex B (Data Categories).

---

## 3. Processor Obligations (GDPR Article 28)

**3.1 Lawful Processing**: The Processor shall:
- Process Personal Data only on documented instructions from the Controller (including transfers to third countries or international organizations)
- Ensure that persons authorized to process Personal Data are bound by confidentiality obligations
- Implement appropriate technical and organizational measures as described in Annex C (Security Measures)

**3.2 Sub-processors**:
- The Processor may engage Sub-processors only with the prior written consent of the Controller
- The Processor shall maintain a list of current Sub-processors (Annex D)
- The Processor shall notify the Controller at least 30 days before any changes to Sub-processors
- The Processor shall impose the same data protection obligations on Sub-processors

**3.3 Data Subject Rights**: The Processor shall:
- Assist the Controller in responding to Data Subject requests (access, rectification, erasure, restriction, portability, objection)
- Provide reasonable assistance within 10 business days of receiving a request
- Not respond directly to Data Subject requests without prior authorization from the Controller

**3.4 Security Breach Notification**: The Processor shall:
- Notify the Controller without undue delay (and in any case within 24 hours) upon becoming aware of a Personal Data breach
- Provide sufficient information to enable the Controller to meet its breach notification obligations under GDPR Article 33
- Cooperate with the Controller in investigating and mitigating the breach

**3.5 Assistance with Compliance**: The Processor shall:
- Assist the Controller in ensuring compliance with GDPR Articles 32-36 (security, breach notification, DPIA, prior consultation)
- Provide information necessary for demonstrating compliance with this DPA
- Allow for and contribute to audits and inspections conducted by the Controller or an auditor mandated by the Controller

**3.6 Deletion or Return of Data**: Upon termination of services, the Processor shall:
- Delete all Personal Data unless EU or Member State law requires storage
- Certify in writing that all Personal Data has been deleted or returned
- Complete deletion within 30 days of termination unless otherwise agreed

---

## 4. Controller Obligations

**4.1 Lawful Instructions**: The Controller warrants that:
- All processing instructions comply with applicable data protection laws
- The Controller has obtained all necessary consents and legal bases for processing

**4.2 Cooperation**: The Controller shall:
- Provide necessary information to enable the Processor to fulfill its obligations
- Respond promptly to requests from the Processor regarding Data Subject rights or security incidents

---

## 5. International Data Transfers

**5.1 Location of Processing**: Personal Data shall be processed in the following locations:
- Primary: [EU Country, e.g., "Germany (Supabase EU region)"]
- Backup: [EU Country or adequacy decision country]

**5.2 Transfers Outside EU/EEA**: If Personal Data is transferred outside the EU/EEA:
- The Processor shall implement Standard Contractual Clauses (SCCs) as approved by the European Commission
- The Processor shall implement supplementary measures where necessary (encryption, pseudonymization, etc.)
- The Processor shall notify the Controller of any government access requests

**5.3 No Transfers Without Approval**: The Processor shall not transfer Personal Data outside the EU/EEA without prior written consent from the Controller.

---

## 6. Security Measures (GDPR Article 32)

**6.1 Technical and Organizational Measures**: The Processor shall implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including:

- **Encryption**: Encryption of Personal Data in transit (TLS 1.2+) and at rest (AES-256)
- **Pseudonymization**: Where appropriate, pseudonymization of Personal Data
- **Access Control**: Role-based access control (RBAC) and two-factor authentication (2FA)
- **Resilience**: Regular backups and disaster recovery procedures
- **Testing**: Regular security testing and vulnerability assessments
- **Incident Response**: Documented incident response plan

**6.2 Security Documentation**: Detailed security measures are described in Annex C (Security Measures).

**6.3 Security Certifications**: The Processor holds the following certifications:
- ISO 27001: [Yes/No]
- SOC 2 Type II: [Yes/No]
- Other: [List certifications]

---

## 7. Audits and Inspections

**7.1 Right to Audit**: The Controller may conduct audits of the Processor's compliance with this DPA:
- **Frequency**: Once per year, or more frequently if required by a Supervisory Authority or in the event of a security breach
- **Notice**: The Controller shall provide at least 30 days' notice before conducting an audit
- **Scope**: Audits may include review of policies, procedures, security measures, and Sub-processor arrangements
- **Cost**: Each party bears its own costs unless the audit reveals non-compliance, in which case the Processor bears reasonable audit costs

**7.2 Third-Party Audits**: The Processor may fulfill audit obligations by providing:
- Independent third-party audit reports (SOC 2, ISO 27001, etc.)
- Security questionnaires completed by qualified personnel

---

## 8. Liability and Indemnification

**8.1 Liability**: Each party's liability under this DPA is subject to the limitations set forth in the MSA, except for:
- Data breaches caused by the Processor's breach of this DPA
- Fines imposed by Supervisory Authorities due to the Processor's non-compliance

**8.2 Indemnification**: The Processor shall indemnify the Controller against:
- Fines imposed by Supervisory Authorities due to the Processor's breach of GDPR obligations
- Claims by Data Subjects resulting from the Processor's breach of this DPA

---

## 9. Term and Termination

**9.1 Term**: This DPA shall commence on the Effective Date and continue until the termination of the MSA.

**9.2 Termination for Breach**: The Controller may terminate this DPA immediately if:
- The Processor materially breaches its obligations under this DPA
- The Processor fails to remedy a breach within 30 days of written notice

**9.3 Effect of Termination**: Upon termination:
- The Processor shall cease all processing of Personal Data
- The Processor shall delete or return all Personal Data as instructed by the Controller
- The Processor shall certify in writing that all obligations have been fulfilled

---

## 10. Governing Law and Dispute Resolution

**10.1 Governing Law**: This DPA shall be governed by the laws of [Country, e.g., "the Netherlands"].

**10.2 Jurisdiction**: Any disputes arising from this DPA shall be subject to the exclusive jurisdiction of the courts of [City, Country].

**10.3 Arbitration**: [Optional: "Disputes may be resolved through arbitration in accordance with [Arbitration Rules]"]

---

## 11. Amendments

**11.1 Changes to GDPR**: If the GDPR or other applicable data protection laws are amended, the parties agree to negotiate in good faith to amend this DPA accordingly.

**11.2 Written Amendments**: Any amendments to this DPA must be in writing and signed by both parties.

---

## 12. Severability

If any provision of this DPA is held to be invalid or unenforceable, the remaining provisions shall remain in full force and effect.

---

## 13. Entire Agreement

This DPA, together with the MSA and its annexes, constitutes the entire agreement between the parties regarding the processing of Personal Data.

---

## Signatures

**Controller:**  
Signature: ___________________________  
Name: [Name]  
Title: [Title]  
Date: [Date]

**Processor:**  
Signature: ___________________________  
Name: [Name]  
Title: [Title]  
Date: [Date]

---

## Annex A: Service Description

**Services Provided**:
[Describe the specific services provided by the Processor, e.g.:
- "Backend infrastructure (PostgreSQL database, authentication, storage)"
- "API hosting and edge functions"
- "Email delivery services"
- "WhatsApp Business API integration"]

**Processing Activities**:
- Data storage and retrieval
- User authentication
- File storage
- Communication delivery

---

## Annex B: Data Categories

### Categories of Personal Data:

**Identity Data**:
- Full name
- Date of birth
- Social security number (BSN/NIS) - encrypted
- Nationality

**Contact Information**:
- Email address
- Phone number
- Physical address
- WhatsApp number

**Sensitive Data (GDPR Art. 9)**:
- Religious beliefs (mosque preferences)
- Health data (death certificates, cause of death)

**Financial Data**:
- Insurance policy numbers
- Invoice details
- Payment references

**Operational Data**:
- User account credentials (hashed passwords, 2FA secrets)
- Session tokens
- IP addresses
- Device fingerprints
- Audit logs

### Categories of Data Subjects:

- Deceased individuals
- Family members of deceased individuals
- Funeral directors
- Organization administrators
- Platform administrators

---

## Annex C: Security Measures

### Technical Measures:

**Encryption**:
- In transit: TLS 1.2+ for all data transmissions
- At rest: AES-256 encryption for database and storage
- Field-level: Additional encryption for sensitive fields (BSN/NIS)

**Access Control**:
- Role-Based Access Control (RBAC)
- Two-Factor Authentication (2FA) for professional accounts
- Row-Level Security (RLS) at database level
- Session timeout (12 hours inactivity)
- Device trust with risk scoring

**Authentication**:
- Strong password requirements (12+ characters, complexity)
- Breached password checking (HaveIBeenPwned integration)
- Brute-force protection (rate limiting, progressive delays, CAPTCHA)
- Account lockout after 5 failed attempts

**Logging and Monitoring**:
- Immutable audit logs (cannot be deleted or modified)
- PII redaction in logs (emails, phone numbers, IPs, BSN)
- Real-time security monitoring
- Automated alerting for suspicious activity

**Vulnerability Management**:
- Automated dependency scanning (Dependabot, Snyk)
- Weekly security patch runs
- Static code analysis (CodeQL)
- Secret scanning (TruffleHog)

### Organizational Measures:

**Policies and Procedures**:
- Privacy Policy and Terms of Service published
- Incident response plan documented
- Data retention policies implemented
- GDPR request handling procedures

**Training and Awareness**:
- Security awareness training for all staff [Planned Q2 2026]
- Regular privacy training for administrators

**Physical Security**:
- Data centers: ISO 27001, SOC 2 Type II certified
- 24/7 physical security and monitoring
- Environmental controls (fire suppression, cooling)

**Business Continuity**:
- Regular automated backups (hourly incremental, daily full)
- Disaster recovery plan tested quarterly
- 99.9% uptime SLA

---

## Annex D: List of Sub-processors

| Sub-processor | Service | Location | DPA Status |
|---------------|---------|----------|------------|
| Supabase Inc. | Database hosting, authentication | EU (Germany) | ✅ Executed |
| [Email Provider] | Email delivery | [Location] | ⚠️ Pending |
| WhatsApp (Meta) | Business messaging | EU/US (SCCs) | ⚠️ Pending |

**Updates to Sub-processors**: The Processor shall notify the Controller at least 30 days before engaging a new Sub-processor. The Controller may object within 14 days of notification.

---

## Annex E: Data Breach Notification Procedure

**1. Detection**: Processor detects or receives notification of a suspected Personal Data breach.

**2. Initial Notification (within 24 hours)**:
- Processor notifies Controller via email to: legal@janazapp.nl
- Initial notification includes:
  - Nature of the breach
  - Categories and approximate number of Data Subjects affected
  - Categories and approximate number of Personal Data records affected
  - Name and contact details of Processor's point of contact

**3. Investigation (within 72 hours)**:
- Processor investigates the breach
- Determines root cause and extent of compromise
- Implements containment measures

**4. Detailed Notification (within 72 hours)**:
- Processor provides detailed report including:
  - Full description of the breach
  - Data types and number of records affected
  - Likely consequences of the breach
  - Measures taken or proposed to address the breach
  - Measures to mitigate possible adverse effects

**5. Cooperation**:
- Processor cooperates with Controller in notifying Supervisory Authority (if required)
- Processor assists in notifying affected Data Subjects (if required)
- Processor provides ongoing updates as investigation progresses

**6. Post-Incident Review**:
- Processor conducts root cause analysis
- Implements corrective actions
- Provides written report within 30 days

---

**Document End**

For questions regarding this DPA template, contact:  
**Email**: legal@janazapp.nl  
**Subject**: DPA Inquiry - [Processor Name]
